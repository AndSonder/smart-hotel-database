# 网页端API接口

## 登录

### 功能描述

客户端发送POST请求登录，若登录成功则返回用户的唯一身份校验字段token，token字段经过md5加密后返回。

### 接口说明

路由:  /user/login

客户端请求字段：

|   字段   | 数据类型 |  备注  |
| :------: | :------: | :----: |
| username |   str    | 用户名 |
| password |   str    |  密码  |

例如：{"username":"zhangsan", "password":"123456"}

服务器响应字段：

| 字段 | 数据类型 |               备注                |
| :--: | :------: | :-------------------------------: |
| code |   int    |             响应字段              |
| data |   dict   | 数据字典，包含账户的唯一标识token |

例如：{"code": 20000, "data":{"token":"xxxx"}}

### 错误码说明

| 错误码 |       说明       |
| :----: | :--------------: |
| 20001  | 用户名或密码为空 |
| 20002  | 用户名或密码错误 |

## 获取登录者在数据库中的信息

### 功能说明

客户端发送GET请求获取数据

### 接口说明 

路由: /usr/info

| 字段  | 数据类型 |     备注     |
| :---: | :------: | :----------: |
| token |   str    | 用户唯一标识 |

服务器响应字段：

| 字段 | 数据类型 |                             备注                             |
| :--: | :------: | :----------------------------------------------------------: |
| code |   int    |                           响应字段                           |
| data |   dict   | 数据字典，包含用户权限信息字段roles、用户介绍字段introduction、用户头像字段和用户名字段name |

例如：{"code":20000,"data":{"roles":["admin"],"introduction":"I am a super administrator", "avatar":"https://xxxx","name":"Super Admin"}}

### 错误码说明

| 错误码 |   说明    |
| :----: | :-------: |
| 20003  | token为空 |

## 获取登录者在数据库中的信息

### 功能说明

客户端通过GET的方式获取酒店盈利相关信息；

### 接口说明

路由：hotel/info

| 字段  | 数据类型 |     备注     |
| :---: | :------: | :----------: |
| token |   str    | 用户唯一标识 |

服务器响应字段：

| 字段 | 数据类型 |                             备注                             |
| :--: | :------: | :----------------------------------------------------------: |
| code |   int    |                           响应字段                           |
| data |   dict   | 数据字典，包含近期住户人数people_num、近期用户问题数量question_num、近期订单数量order_num, 近期订单金额order_money |

例如：{"code": 20000,  "data": { "people_num": 2002, "question_num": 10, "order_num": 50, "order_money": 2000}}

## 获取订单信息

### 功能说明

客户端通过GET的方式获取订单的相关信息

### 接口说明

路由：order/list

| 字段  | 数据类型 |     备注     |
| :---: | :------: | :----------: |
| token |   str    | 用户唯一标识 |
| page  |   int    |     页数     |
| limit |   int    |  每页订单数  |
| sort  |   str    |   排序方式   |

服务器响应字段：

| 字段 | 数据类型 |               备注               |
| :--: | :------: | :------------------------------: |
| code |   int    |             响应字段             |
| data |   dict   | 数据字典，包含多个订单的详细信息 |

例如：{"code": 20000,  "data": { "people_num": 2002, "question_num": 10, "order_num": 50, "order_money": 2000}}

## 错误码说明

| 错误码 |         说明         |
| :----: | :------------------: |
| 20001  |   用户名或密码为空   |
| 20002  |   用户名或密码错误   |
| 20003  |      token为空       |
| 20004  | 参数错误，请检查参数 |
| 20005  |      用户不存在      |
|        |                      |
|        |                      |

































