## 系统分析

### 接口需求

#### 界面设计

**小程序端界面设计：**

a. 酒店客户端

1. 初始封面界面：未使用过酒店小程序用户第一次进入小程序的欢迎界面，界面温馨舒适。

2. 首页界面：展示简单房间筛选条件模块，配查询房间按钮；展示推荐模块，如“猜您喜欢”模块。

3. 订单界面：为已下单用户展示已订订单信息模块，联系客服模块；为未下单用户展示提示信息模块，并展示房间列表页面跳转模块。

4. 在住界面：展示房间信息模块，如房间用户、住宿时间等，仅对已下单且时间匹配的用户展示信息，未下单用户和已下单但时间不匹配的用户展示提示信息；展示开锁模块；展示智能硬件模块，如灯光、空调等；展示客房服务模块，如预约退房、紧急呼叫、呼叫保洁等。
5. 房间类型界面：展示筛选模块，模块内包括入住的多项筛选选项；展示房间列表模块，默认情况下展示所有房间类型，跟随筛选条件展示匹配条件的房间类型列表。
6. 预订界面：展示个人信息填写模块，填写预订订单时的个人信息。
7. 智能硬件界面：展示硬件控制模块，以改变硬件属性，不同硬件拥有不同的硬件界面。

b. 酒店工作人员端

1. 房间列表界面：展示房间列表模块，包括已入住且时间匹配的房间列表和其他房间列表。

2. 个人信息界面：展示个人信息模块，不包含身份证信息；展示行为记录模块，如个人开门记录。

3. 房间详情界面：展示房间信息模块，包含房间具体固定信息；展示个人信息模块，包含用户填写的个人信息，敏感信息模糊展示；展示订单信息模块，包含具体订单信息。

#### 小程序接口

说明：接口数据全部以JSON数据格式进行传输。具体API接口说明请参考附录—小程序API接口说明。

**用户信息管理相关接口：**

1. 住户提交个人数据到用户数据表中的接口

2. 获取用户数据表中的个人数据的接口

**订单信息管理相关接口：**

1. 获取订单数据表中的订单数据的接口
2. 删除订单数据表中的订单数据的接口

**房间信息管理相关接口：**

1. 获取房间数据表中的房间数据的接口

2. 获取开门记录数据表中的开门记录数据的接口

3. 修改订单数据表中的订单数据的接口
4. 改开门记录数据表中的开门记录数据的接口

**硬件信息管理相关接口：**

1. 获取硬件数据表中的硬件数据的接口

2. 修改硬件数据表中的硬件数据的接口

**系统信息管理相关接口：**

1. 获取用户唯一身份凭证的接口
2. 获取用户身份数据表中用户身份数据的接口

### 安全需求

#### 用户安全性需求

1. 在传输用户敏感性数据时数据都是经过加密后传输，双方还会就传输数据源进行身份确认。
2. 管理系统内设置不同级别用户，不同级别用户拥有不同权限。除开系统的超级管理员权限，不同管理员权限范围不一，只有拥有涉及处理用户个人信息工作职能的管理员才有查看用户个人信息。
3. 酒店内不使用实体房卡或钥匙，充分保证住户开门权限的主权，避免因丢失钥匙等物理因素导致的开门主权受制，从而致使用户安全问题。

#### 密码安全性需求

1. 设置密码位数要求和数据类型要求，设置最低位数要求，充分避免密码弱口令。
2. 设置登录限制机制，设置账号密码输入检测次数限制，在达到一定错误次数后，再次尝试会伴随验证机制。在伴随验证机制的前提下再达到一定次数后会进行登录锁定。
3. 密码在系统内从不以明文方式展示。

